// 1.0 VARIABLES
// =============

// 1.1 Grayscale
// -------------

$black: #222
$black_lighter: #333
$black_lightest: #444
$gray_darkest: #555
$gray_darker: #666
$gray_dark: #777
$gray: #888
$gray_light: #999
$gray_lighter: #AAA
$gray_lightest: #BBB
$white_darkest: #CCC
$white_darker: #EDEDED
$white_dark: #F7F7F7
$white: #FFFFFF

// 1.2 Colors
// ----------

$red: #CA3518
$orange: darkorange
$yellow: #ffe312
$green: #58AA00
$blue: #47A5DF
$violet: darkmagenta

// 1.3 Crucial design variables
// ----------------------------

$primary-color:       $blue
$secondary-color:     $white
$space:               25px
$heading-font-family: 'museo-sans', 'Lato', helvetica neue, sans-serif
$default-font-family: 'museo-sans', 'Lato', helvetica neue, sans-serif
$mono-font-family:    'ubuntu-mono', monospace
$default-font-size:   16px
$default-font-color:  $gray
$default-line-height: 1.45rem
$scalingFactor:       0.2vw

// 1.0 NORMALIZATION
// =================

html
  font-family: sans-serif

body
  margin: 0

article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary
  display: block

audio, canvas, progress, video
  display: inline-block
  vertical-align: baseline

audio:not([controls])
  display: none

[hidden], template
  display: none

a
  background: transparent
  &:active, &:hover
    outline: 0

abbr[title]
  border-bottom: 1px dotted

dfn
  font-style: italic

small
  font-size: 80%

sub
  font-size: 75%
  line-height: 0
  position: relative
  vertical-align: baseline
sup
  font-size: 75%
  line-height: 0
  position: relative
  vertical-align: baseline
  top: -0.5em
sub
  bottom: -0.25em

img
  border: 0

svg:not(:root)
  overflow: hidden

hr
  -moz-box-sizing: content-box
  box-sizing: content-box
  height: 0

pre
  overflow: auto

code, kbd, pre, samp
  font-family: monospace, monospace
  font-size: 1em

button, input, optgroup, select, textarea
  color: inherit
  font: inherit
  margin: 0

button
  overflow: visible
  text-transform: none

select
  text-transform: none

button, html input[type="button"]
  -webkit-appearance: button
  cursor: pointer

input
  &[type="reset"], &[type="submit"]
    -webkit-appearance: button
    cursor: pointer

button[disabled]
  cursor: default

button
  border: 0
  padding: 0

input
  line-height: normal

  &[type="checkbox"], &[type="radio"]
    box-sizing: border-box
    padding: 0

  &[type="search"]
    box-sizing: content-box

fieldset
  border: 1px solid #c0c0c0
  margin: 0 2px
  padding: 0.35em 0.625em 0.75em

legend
  border: 0
  padding: 0

textarea
  overflow: auto

optgroup
  font-weight: bold

// 2.0.0 CORE STYLES
// =================

// 2.1.0 Base
// ----------

*
  box-sizing: border-box

iframe
  width: 100%
  border: 0
  padding: 15px
  margin-bottom: 25px

// 2.2.0 Mixins
// ------------

=text-inputs
  input[type="date"],
  input[type="datetime"],
  input[type="datetime-local"],
  input[type="email"],
  input[type="month"],
  input[type="number"],
  input[type="password"],
  input[type="tel"],
  input[type="search"],
  input[type="text"],
  input[type="time"],
  input[type="url"],
  input[type="week"]
    @content

=fadeInDown
  animation-duration: 0.25s
  animation-timing-function: ease
  animation-fill-mode: both
  animation-name: fadeInDown

=root-element($size: 1)
  padding: ($size * $size * 4px) ($size * $size * 4px)
  border-radius: 3px
  border: 1px solid transparent
  outline: none
  margin-bottom: $space
  @if $size != 1
    font-size: $size*$default-font-size
  line-height: $size*$default-line-height
  font-family: $default-font-family

// Component
=component($name)
  [data-component="#{$name}"]
    @content

// Page
=page($controller: null, $action: null)
  $selector: ''
  @if $controller != null
    $selector: "[data-controller='#{$controller}']"
  @if $action != null
    $selector: "#{$selector}[data-action='#{$action}']"
  #{$selector}
    @content

// 2.3.0 Animations
// ----------------

@keyframes fadeInDown
  0%
    opacity: 0
    transform: translateY(-20px)

  100%
    opacity: 1
    transform: translateY(0)

// 2.4.0 Typography
// ----------------

=type-default
  font-family: $default-font-family
  font-size: $default-font-size
  font-size: calc(#{$default-font-size - 2} + #{$scalingFactor})
  line-height: $default-line-height
  line-height: calc(#{$default-line-height} + #{$scalingFactor})
  color: $default-font-color

html
  color: $black

ul, ol
  margin: 0
    bottom: $space
  line-height: 1.45rem

h1, h2, h3, h4, h5, h6, p
  margin: 0
  line-height: normal

p
  margin: 0
    bottom: $space
  line-height: $default-line-height

a
  text-decoration: none
  color: $blue

  &:hover
    text-decoration: underline

=pre-default
  color: darken(blue, 25%)
  border-radius: $space/5
  padding: ($space/5)
  font-family: $mono-font-family
  word-break: normal
  hyphens: none
  tab-size: 2
  word-wrap: break-word
  border: 0px !important
  margin: 0
    bottom: $space

=code-default
  margin-bottom: 0px
  padding: 0 (($space/5)/3)

=p-default($content-optimized: false)
  font-size: 1rem
  margin-bottom: $space
  line-height: $default-line-height

  @if ($content-optimized)
    font-size: 1.25rem
    line-height: 1.85rem
    margin-bottom: 1.25rem

=hero-default
  padding:
    top: $space
    top: 2vw
    bottom: $space
    bottom: 2vw
  min-height: 450px
  min-height: 35vw
  background: cornflowerblue
  margin-bottom: $space
  box-shadow: inset 0px -30px 100px -20px hsla(0, 0%, 0%, 0.15), inset 0px 40px 90px -20px rgba(255, 255, 255, 0.15)
  display: flex
  flex-direction: column
  justify-content: center
  align-items: center
  color: white

  > h1, > h2, > h3, > h4, > h5, > h6, > p
    text-align: center
    font-weight: 300

  h1, h2, h3, h4, h5, h6, p
    color: inherit

  h1
    +heading-xxl
  h2
    +heading-xl
  h3
    +heading-lg
  h4
    +heading-md
  h5
    +heading-rg
  h6
    +heading-sm

  > img
    margin: 0px auto
    display: block

=heading-break
  margin:
    top: 2rem
  &:first-child
    margin-top: 0

=page-heading-default
  h1, h2, h3, h4, h5, h6
    border-bottom: 1px solid $white
    padding-bottom: $space/2

=heading-xxl-default
  font-size: 3rem
  margin:
    bottom: 1.65rem
  +heading-break

=heading-xl-default
  font-size: 2.7rem
  margin:
    bottom: 1.5rem
  +heading-break

=heading-lg-default
  font-size: 2.4rem
  margin:
    bottom: 1.25rem
  +heading-break

=heading-md-default
  font-size: 2.1rem
  margin:
    bottom: 1.15rem
  +heading-break

=heading-rg-default
  font-size: 1.8rem
  margin:
    bottom: 1rem
  +heading-break

=heading-sm-default
  font-size: 1.5rem
  margin:
    bottom: 0.85rem
  +heading-break

=heading-xs-default
  font-size: 1.2rem
  margin:
    bottom: 0.7rem
  +heading-break

=heading-xxs-default
  font-size: 0.9rem
  margin:
    bottom: 0.5rem
  +heading-break

=list-default($style: 'none', $layout: 'vertical')
  margin-bottom: $space

  @if ($style == 'unstyled')
    +list-unstyled

  @if ($layout == 'horizontal')
    +list-horizontal

=list-unstyled
  padding: 0
  list-style: none

  > li
    margin-bottom: 0.85rem

=list-horizontal
  > li
    display: inline-block
    margin-right: 5px

// 3.0.0 COMPONENTS
// ================

// 3.1.0 Tables
// ------------

=table-default($blank: false, $zebra: false, $hover: false, $border-color: lightgray, $bordered: false)
  border-collapse: collapse
  background: white
  border-spacing: 0
  empty-cells: show
  border: 1px solid $border-color
  width: 100%
  margin-bottom: 25px

  pre
    margin: 0

  thead
    background: lightgray
    color: black
    text-align: left
    vertical-align: bottom
    border-bottom: 1px solid transparent

    th
      font-weight: bold
      text-align: left
      border-color: $border-color
      border-bottom-width: 0px

  th, td
    background-color: transparent
    border-width: 0 0 0 1px
    font-size: inherit
    margin: 0
    overflow: visible
    padding: (25px/6) (25px/4)
    line-height: normal
    border-left: 1px solid $border-color

    &:first-child
      border-left-width: 0

  @if $hover == true
    +table-hover

  @if $blank == true
    +table-blank

  @if $zebra == true
    +table-zebra

  @if $bordered == true
    +table-bordered

  @content

=table-bordered-default
  td
    border-bottom-color: inherit
    border-bottom-width: 1px
    border-bottom-style: solid

  thead
    border-bottom-color: inherit

=table-blank-default
  border-color: transparent
  background: transparent
  table, tr, td, tbody, thead, th, tfoot
    border-color: transparent
    background: transparent
  th, td
    border-color: transparent

    &:first-child
      border-color: transparent
      padding:
        left: 0px

    &:last-child
      border-color: transparent
      padding:
        right: 0px

=table-hover-default
  tbody, thead
    tr:hover
      background-color: cornflowerblue

      td, th
        color: white

=table-zebra-default
  tbody, thead
    tr:nth-child(even)
      background-color: lightgray

// 3.2.0 Grid
// ----------

$phone: 360px
$phablet: 480px
$tablet: 768px
$tablet-landscape: 960px
$desktop: 1024px
$large-monitor: 1200px
$xl-monitor: 1400px
$xxl-monitor: 1800px

// Media query generator
=gt($query: $phone)
  @media screen and (min-width: $query)
    @content

$grid-columns: 12
$grid-gutter: 15px

// Grid breakpoints
// ----------------
// Critical breakpoints where offsets and alternative grid styles will
// be displayed

$showOffsets:        $tablet-landscape // Offsets render at this breakpoint
$showColumns:        $phablet          // Allow < 12 columns
$showPartialColumns: $tablet           // Simpler alternative to actual columns
$showFullColumns:    $desktop          // Actual user-defined column measurement

=wrapper-default($fluid: false)
  margin: 0px auto

  @if $fluid == false
    max-width: $tablet
  padding:
    left: 25px
    right: 25px

  @if $fluid == false
    @media screen and (min-width: $showOffsets)
      max-width: $desktop

    @media screen and (min-width: $xxl-monitor)
      max-width: $large-monitor

=row
  display: inline-flex
  width: calc(100% + #{$grid-gutter})
  justify-content: flex-start
  align-items: stretch
  flex-wrap: wrap
  margin:
    left: -$grid-gutter/2
    right: -$grid-gutter/2

=column-universals
  // For smaller CSS, this can be applied in one rule, rather
  // than in a loop for every type of column.
  clear: none
  display: block
  margin:
    left: $grid-gutter/2
    right: $grid-gutter/2

=measure-columns($columns, $prop)
  // TODO: DRY this somehow?
  @if $prop == "width"
    width: calc(#{percentage($columns/$grid-columns)} - #{$grid-gutter})

  @else if $prop == "margin-left"
    margin-left: calc(#{percentage($columns/$grid-columns)} + #{$grid-gutter/2})

  @else if $prop == "margin-right"
    margin-right: calc(#{percentage($columns/$grid-columns)} - #{(($grid-columns/$columns - 1) * $grid-gutter)/($grid-columns/$columns) - $grid-gutter})

=set-offset($columns, $side: "margin-right")
  // Never show leftes and rights on mobile
  // +measure-columns(0, $side)

  // Look for keywords
  @if $columns == "half"
    @media screen and (min-width: $showPartialColumns)
      +measure-columns(6, $side)

  @else if $columns == "third"
    @media screen and (min-width: $showPartialColumns)
      +measure-columns(6, $side)

    @media screen and (min-width: $showFullColumns)
      +measure-columns(4, $side)

  @else if $columns == "twothirds"
    @media screen and (min-width: $showPartialColumns)
      +measure-columns(6, $side)

    @media screen and (min-width: $showFullColumns)
      +measure-columns(8, $side)

  @else
    @media screen and (min-width: $showPartialColumns)
      +measure-columns($columns, $side)

// Convenience mixins
=right($columns)
  +set-offset($columns, "margin-right")
=left($columns)
  +set-offset($columns, "margin-left")

=set-column($columns, $left, $right)
  +measure-columns($columns, "width")

  @if $right != 0
    +set-offset($right, "margin-right")

  @if $left != 0
    +set-offset($left, "margin-left")

=column($columns: 12, $left: 0, $right: 0, $constants: true)
  // Everything is a full width column on mobile by default
  +set-column(12, 0, 0)

  @if $constants == true
    +column-universals

  // Look for keywords
  @if $columns == "half"
    @media screen and (min-width: $showPartialColumns)
      +set-column($grid-columns/2, $left, $right)

  @else if $columns == "third"
    @media screen and (min-width: $showPartialColumns)
      +set-column($grid-columns/2, $left, $right)
    @media screen and (min-width: $showFullColumns)
      +set-column($grid-columns/3, $left, $right)

  @else if $columns == "twothirds"
    @media screen and (min-width: $showPartialColumns)
      +set-column($grid-columns/2, $left, $right)
    @media screen and (min-width: $showFullColumns)
      +set-column(($grid-columns * 2/3), $left, $right)

  @else
    // No keywords found, pass in values.
    @media screen and (min-width: $showColumns)
      +set-column($columns, $left, $right)

// 3.3.0 Alerts
// ------------
=alert-default
  +root-element
  padding: $space/2
  background: cornflowerblue
  color: white
  margin:
    bottom: $space

  p
    +p
    color: inherit

  > *:last-child
    margin-bottom: 0

  h1
    +heading-xs
    color: inherit

  a
    color: inherit
    text-decoration: underline

  @content

// X.X.X Icons
// -----------

@font-face
  font-family: 'Kickstart'
  src: url(data:application/x-font-woff;charset=utf-8;base64,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) format('opentype')

=icon-default($rg-size: $phablet, $lg-size: $desktop)
  width: 14px
  height: 14px
  display: inline-block
  vertical-align: middle
  margin: 2px

  @media screen and (min-width: $rg-size)
    width: 28px
    height: 28px
    margin: 5px

  @media screen and (min-width: $lg-size)
    width: 56px
    height: 56px
    margin: 7px

  .rg
    display: none

  .lg
    display: none

  @media screen and (min-width: $rg-size)
    .sm
      display: none

    .rg
      display: block

  @media screen and (min-width: $lg-size)
    .rg
      display: none

    .lg
      display: block

// 3.4.0 Buttons
// -------------

=button-default($background-color: lightgray, $size: 1)
  display: inline-block
  cursor: pointer
  text-decoration: none
  color: darkgray
  text-align: left
  transition: box-shadow 0.15s
  vertical-align: middle
  user-select: none

  &[disabled], &:disabled
    color: rgba(0, 0, 0, 0.25)
    pointer-events: none
    cursor: not-allowed

  &.menu-item
    position: relative

    ul
      display: none

    &:after
      content: '+'
      font-family: 'Kickstart', Kickstart
      font-size: 0.65rem
      display: inline-block
      color: rgba(0, 0, 0, 0.3)

  &:hover
    box-shadow: 0px -2px 0px 0px rgba(0, 0, 0, 0.1) inset, 0px 2px 0px 0px rgba(255, 255, 255, 0.1) inset
    text-decoration: none

  &:active
    box-shadow: 0px 2px 0px 0px rgba(0, 0, 0, 0.1) inset, 0px -2px 0px 0px rgba(255, 255, 255, 0.1) inset
    text-decoration: none

  +root-element($size: $size)
  +button-size-default($size)
  +button-color-default($background-color)

  @content

// Separated from main mixin for access by non-semantic library.

=button-color-default($background-color)
  background-color: $background-color
  border-color: $background-color

  &.open
    background-color: darken($background-color, 5%)

  @if lightness($background-color) > 75%
    color: $black_lighter
  @else
    color: white

  @if $background-color == $yellow
    color: $black_lighter

  @if $background-color == transparent
    color: $black_lighter

=button-size-default($size)
  padding: ($size * $size * 4px) ($size * $size * 6px)
  line-height: $size * $default-line-height
  margin-bottom: 0
  font-size: ($default-font-size) * $size
  padding:
    left: $size * $size * 6px
    right: $size * $size * 6px

  &.menu-item
    &:after
      font-size: $size * 0.85rem
      margin-left: $size * $size * $space/4

    &.open
      ul
        display: block

    ul
      +button-dropdown-menu

      li
        padding:
          left: 0
          right: 0
        margin:
          bottom: 0

  + .button-dropdown + ul
    // Button with dropdown
    +button-dropdown-menu

  &.button-dropdown
    padding:
      left: 4px * $size * $size
      right: 4px * $size * $size

=button-dropdown-menu
  // Most of the styling actually comes from the global dropdown_menu
  // styling, however this will provide some specifics for working
  // with buttons.
  margin-top: 5px
  right: -$space
  border: 1px solid $white
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2)

=button-group-default($background-color: $white, $size: 1)
  list-style: none
  padding: 0
  margin:
    bottom: 0
    top: 0
  display: flex
  align-items: center
  position: relative

  > li
    color: inherit

    > a, > button, > input
      color: inherit
      +button-default($background-color, $size)
      text-decoration: inherit
      vertical-align: top

    &:not(:first-child):not(:last-child):not(:only-child)
      > a, > button, > input
        border-radius: 0
        border-left: 0
        @if (lightness($background-color) < 75%)
          border-right: 1px solid rgba(255, 255, 255, 0.1)
        @else
          border-right: 1px solid rgba(0, 0, 0, 0.1)

    &:first-child:not(:only-child)
      > a, > button, > input
        border-top-right-radius: 0
        border-bottom-right-radius: 0
        @if (lightness($background-color) < 75%)
          border-right: 1px solid rgba(255, 255, 255, 0.1)
        @else
          border-right: 1px solid rgba(0, 0, 0, 0.1)

    &:last-child:not(:only-child)
      > a, > button, > input
        border-top-left-radius: 0
        border-bottom-left-radius: 0
        border-left: 0


    .button-dropdown

      &:after
        content: '+'
        display: block
        font-family: "Kickstart", Kickstart
        color: rgba(0, 0, 0, 0.3)
        font-size: 90%

  > li > ul
    +button-dropdown-menu
    right: auto

  @content

// X.X.X Containers
// ----------------

=container-color-default($color: $white)
  border-color: $color

  header, footer, aside
    background: $color

    @if lightness($color) > 75%
      color: $black_lighter
    @else
      color: white

=container-default($color: $white)
  +root-element
  background: white
  display: flex
  flex-direction: column
  flex-wrap: wrap

  header, main, footer
    +root-element
    margin: (-1 * 4px) - 1

  header, footer
    h1
      +heading-xs

    h2, h3, h4, h5, h6
      +heading-xxs

    h1, h2, h3, h4, h5, h6
      margin-top: 0

  header, footer
    display: flex
    align-items: center
    justify-content: space-between

    padding:
      left: $space/2
      right: $space/2

  header
    margin-bottom: 4px
    border-bottom-left-radius: 0px
    border-bottom-right-radius: 0px

    h1, h2, h3, h4, h5, h6
      margin-bottom: 0

      &:first-child
        margin-top: 0

  main
    padding: $space/2

  main
    border-radius: 0px

    + main
      border-top-color: inherit
      margin-top: 0

  footer
    margin-top: 4px
    border-top-left-radius: 0px
    border-top-right-radius: 0px

  +container-color-default($color)

=thumbnail-content-default($breakpoint: $tablet)
  display: block
  overflow: hidden
  margin-bottom: $space
  align-items: flex-start

  img, figure
    margin-bottom: $space

  h1
    +heading-xs

  @media screen and (min-width: $breakpoint)
    display: flex

    img, figure
      flex-grow: 0
      flex-shrink: 0

    > :not(img):not(figure)
      width: 100%

      + img, + figure
        margin-left: $space/2

    > img, > figure
      + :not(img):not(figure)
        margin-left: $space/2
        width: 100%

  @content

=thumbnail-default
  +root-element
  border: 1px solid $white
  display: inline-block
  max-width: 100%

  img
    max-width: 100%

  figcaption
    font-size: 0.85rem

  @content

figure
  margin: 0
  padding: 0

// X.X.X Dropdown menu
// -------------------

=dropdown_menu-default
  .menu-item
    ul
      display: none
      position: absolute
      padding: 0
      list-style: none
      z-index: 10
      background: white
      top: 100%
      margin-top: 1px
      left: -1px // Compensate for border
      min-width: 175px
      border:
        left: 1px solid $white_darker
        right: 1px solid $white_darker
        bottom: 1px solid $white_darker
      border-radius: 3px
      background: white

      &:before
        display: block
        position: absolute
        content: ' '

      li
        border: 0px

        a:not([role=button])
          +button-size-default(1)
          color: $default-font-color
          display: block
          margin-bottom: 0
          border-radius: 0
          background: white
          border-color: white
          font-size: $default-font-size

          &:hover
            border-color: $white_dark
            background: $white_dark
            box-shadow: none
            text-decoration: none

          &:active
            border-color: $white_darker
            background: $white_darker
            box-shadow: none

        &:first-child
          border-top-right-radius: 3px
          border-top-left-radius: 3px

          a:not([role=button])
            border-top-right-radius: 3px
            border-top-left-radius: 3px

        &:last-child
          border-bottom-right-radius: 3px
          border-bottom-left-radius: 3px

          a:not([role=button])
            border-bottom-right-radius: 3px
            border-bottom-left-radius: 3px

    &.open
      ul
        display: block

  @content

// X.X.X. Forms
// ------------

label, legend
  display: block
  font-weight: normal
  margin-bottom: $space/4

=form-default($layout: 'none')
  margin-bottom: $space

  @if ($layout == 'horizontal')
    +form-horizontal
  @if ($layout == 'left')
    +form-left

  @content

=input-styles
  +root-element
  margin: 0
    bottom: 0
  border: 1px solid #CCC
  display: block
  border-radius: 3px
  max-width: 100%

  // label + &
  //   margin-top: ($space/5)

  &:focus
    outline: 0px
    box-shadow: inset 0px 0px 0px 2px $primary-color

  @content

+text-inputs
  +input-styles

input[disabled]
  pointer-events: all
  cursor: not-allowed
  color: $gray_light

textarea
  +input-styles
  width: 300px

input[type="checkbox"],
input[type="radio"]
  display: inline-block
  width: 14px
  margin:
    left: 1px
    right: 5px

select
  +button-default
  height: calc(#{$default-line-height} + #{2 * 4px})
  background-image: none

=form-horizontal
  display: inline-block

  label, input
    display: inline-block

  @content

=form-left
  label
    padding: 4px 6px
    padding:
      right: 0
      left: 0
    display: inline-block
    margin:
      top: 0
      bottom: 0

  @media screen and (min-width: $tablet)
    label:not(.checkbox):not(.radio)
      text-align: right

  @content

=form_group-default($layout: 'none')
  display: block
  margin-bottom: $space

  @if $layout == 'horizontal'
    display: inherit
    margin:
      right: $space/5

    > *
      display: inline-block
      vertical-align: middle
      margin-right: $space/5

  @content

=field-colors($color)
  label, p
    color: $color

  +text-inputs
    border-color: $color

  select
    border-color: $color
    background-color: $color

  textarea
    border-color: $colorlabel, legend
  display: block
  font-weight: normal
  margin-bottom: $space/4

=form-default($layout: 'none')
  margin-bottom: $space

  @if ($layout == 'horizontal')
    +form-horizontal
  @if ($layout == 'left')
    +form-left

  @content

=input-styles
  +root-element
  margin: 0
    bottom: 0
  border: 1px solid #CCC
  display: block
  border-radius: 3px
  max-width: 100%

  // label + &
  //   margin-top: ($space/5)

  &:focus
    outline: 0px
    box-shadow: inset 0px 0px 0px 2px $primary-color

  @content

+text-inputs
  +input-styles

input[disabled]
  pointer-events: all
  cursor: not-allowed
  color: $gray_light

textarea
  +input-styles
  width: 300px

input[type="checkbox"],
input[type="radio"]
  display: inline-block
  width: 14px
  margin:
    left: 1px
    right: 5px

select
  +button-default
  height: calc(#{$default-line-height} + #{2 * 4px})
  background-image: none

=form-horizontal
  display: inline-block

  label, input
    display: inline-block

  @content

=form-left
  label
    +root-element
    padding:
      right: 0
      left: 0
    display: inline-block
    margin:
      top: 0
      bottom: 0

  @media screen and (min-width: $tablet)
    label:not(.checkbox):not(.radio)
      text-align: right

  @content

=form_group-default($layout: 'none')
  display: block
  margin-bottom: $space

  @if $layout == 'horizontal'
    display: inherit
    margin:
      right: $space/5

    > *
      display: inline-block
      vertical-align: middle
      margin-right: $space/5

  @content

=field-colors($color)
  label, p
    color: $color

  +text-inputs
    border-color: $color

  select
    border-color: $color
    background-color: $color

  textarea
    border-color: $color

=growl-default
  +alert
  @content

=hr-default
  border: 0
    top: 2px solid $default-font-color

  @content

// X.X.X Label
// -----------

=label-default($background-color: $primary-color)
  padding: 4px 6px
  background: $background-color
  font-size: 0.8rem
  color: white
  line-height: normal
  font-weight: bold
  padding:
    top: 3px
    bottom: 3px

  @if $background-color == $yellow
    color: $default-font-color

  &:after
    border-top-color: $background-color

  @content

// X.X.X. Modal
// ------------

=modal-default()
  padding: 4px 6px
  border-width: 0
  padding: $space
  position: fixed
  box-shadow: 0px 0px 0px 99999px rgba(0, 0, 0, 0.35), 0px 0px 25px rgba(0, 0, 0, 0.5)
  box-shadow: 0px 0px 0px 100vw rgba(0, 0, 0, 0.35), 0px 0px 25px rgba(0, 0, 0, 0.5)
  top: 15px
  top: 5vh
  left: 2%
  right: 2%
  margin: 0px auto
  display: none
  background: white
  border-color: $white_dark
  animation-duration: 0.2s
  animation-timing-function: ease
  animation-fill-mode: both
  z-index: 1500

  &[style="display: block;"]
    animation-name: fadeInDown

  @media screen and (min-width: $tablet)
    top: 75px
    top: 10vh
    width: 650px
    left: 50%
    margin-left: -325px

  > header, > footer
    +alert

    > h1, > h2, > h3, > h4, > h5, > h6
      margin-bottom: 0

    background: $white_dark
    color: $default-font-color
    margin: -$space
      bottom: $space

  > header
    border-bottom-left-radius: 0
    border-bottom-right-radius: 0
    position: relative

    a[data-modal-close]
      position: absolute
      top: $space/2
      right: $space/2
      line-height: 1.3rem
      text-decoration: none
      font-size: 1.3rem

  > footer
    margin:
      top: $space
      bottom: -$space
    border-top-left-radius: 0
    border-top-right-radius: 0

    ul
      +list-default($style: 'unstyled', $layout: 'horizontal')
      text-align: right

      li
        margin:
          bottom: 0
          right: 0

    [role="button"]
      text-decoration: none

  @content

// X.X.X. Navbar
// -------------

=color($background)
  @if (lightness($background) < 75%)
    color: rgba(255, 255, 255, 0.5)
  @else
    color: rgba(0, 0, 0, 0.5)

=navbar-align_menus($breakpoint)
  @media screen and (min-width: $breakpoint)
    > ul:first-child
      margin-left: (-1 * map-get($rootElement, paddingH))

    > ul:last-child
      margin-right: (-1 * map-get($rootElement, paddingH))

    > ul:only-child
      margin-right: 0

=navbar-mobile-depadding($breakpoint: $tablet)
  > ul
    margin:
      left: -1*map-get($rootElement, paddingH)
      right: -1*map-get($rootElement, paddingH)

    > li
      ul[role=button], > [role=button], &.navbar-title button[role="button"]
        @media screen and (max-width: #{$breakpoint - 1px})
          margin:
            left: 0
            right: 0

=navbar-fluid($breakpoint: $tablet)
  nav
    +wrapper(true)
    +navbar-align_menus($breakpoint)
    +navbar-mobile-depadding($breakpoint)

=navbar-fluid_fixed($breakpoint: $tablet)
  nav
    +wrapper(false)
    +navbar-align_menus($breakpoint)
    +navbar-mobile-depadding($breakpoint)

=navbar-collapse($breakpoint: $tablet)
  nav
    &.expand
      > ul > li
        display: block

        &.navbar-title
          display: flex

    > ul
      > li
        display: none

        @media screen and (min-width: $breakpoint)
          display: block

        &.navbar-title
          button
            display: block

            @media screen and (min-width: $breakpoint)
              display: none

=navbar-fixed
  position: fixed
  z-index: 100
  left: 0
  right: 0
  top: 0

=navbar-color-default($background-color)
  background-color: $background-color

  nav
    > ul
      > li
        &.menu-item
          +color($background-color)

        > a:not([role=button])
          +color($background-color)

          &:hover, &.active
            @if (lightness($background-color) < 75%)
              color: white
            @else
              color: rgba(0, 0, 0, 0.85)
            background: darken($background-color, 5%)
            border-color: darken($background-color, 5%)

          &:active
            background: darken($background-color, 15%)
            border-color: darken($background-color, 15%)


=navbar-default($layout: 'none', $background-color: map-get($white, darker), $breakpoint: $tablet, $collapse: false, $fixed: false)
  font-size: $default-font-size
  margin-bottom: $space

  nav
    width: 100%
    border-radius: 0
    position: relative

    @if (lightness($background-color) < 75%)
      color: white
    @else
      color: $default-font-color

    @media screen and (min-width: $breakpoint)
      display: flex
      align-items: center
      flex-wrap: wrap
      justify-content: space-between
      align-content: space-between

    h1
      +heading-xxs
      margin-bottom: 0
      font-size: $default-font-size
      line-height: $default-line-height

    p
      margin: 0

    > ul
      margin: 0
      padding: 0

      @media screen and (min-width: $breakpoint)
        display: flex
        justify-content: space-between
        align-content: space-between
        align-items: center
        flex-wrap: wrap

      &:last-child
        @media screen and (min-width: $breakpoint)
          li.menu-item.open, li .menu-item.open[role="button"]
            ul
              left: auto
              right: -1px

      &:only-child
        @media screen and (min-width: $breakpoint)
          li.menu-item.open, li .menu-item.open[role="button"]
            ul
              left: -1px
              right: auto

      > li
        list-style: none
        +root-element
        margin-bottom: 0
        border-radius: 0
        padding: (2 * map-get($rootElement, paddingV)) (map-get($rootElement, paddingH))
        position: relative
        user-select: none
        border:
          left: 0px
          right: 0px

        // @if ($collapse == true)
        //   margin:
        //     left: (-1 * map-get($rootElement, paddingH))
        //     right: (-1 * map-get($rootElement, paddingH))

        @media screen and (min-width: $breakpoint)
          margin: 0

        &.navbar-title
          display: flex
          justify-content: space-between
          align-items: center

          @media screen and (min-width: $breakpoint)
            // padding: 0 (map-get($rootElement, paddingH))

            > h1, > h2, > h3, > h4, > h5, > h6
              padding: (map-get($rootElement, paddingV) - 1) (map-get($rootElement, paddingH))

          button
            +button-default(transparent)
            background: transparent
            border-color: transparent
            color: inherit
            // margin-bottom: 0
            font-family: Kickstart, 'Kickstart'
            padding:
              left: 0
              right: 0
            opacity: 0.5
            display: none

            &:hover, &:active
              box-shadow: none

            &:hover
              opacity: 1

            @media screen and (min-width: $breakpoint)
              display: none

        ul
          display: none

        &.menu-item.open ul, .menu-item.open ul
          display: block

        &.menu-item // Added via k$.nav()
          padding: (2 * map-get($rootElement, paddingV) - 1) (map-get($rootElement, paddingH))
          cursor: pointer
          border:
            left: 1px solid transparent
            right: 1px solid transparent

          ul
            box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.1)

          &:before
            content: '='
            margin-right: 8px

          &:before, &:after
            font-family: 'Kickstart', Kickstart
            display: inline-block
            font-size: .65*$default-font-size
            vertical-align: middle

          @media screen and (min-width: $breakpoint)
            &:before
              content: ' '
              display: none

            &.open
              &:before
                content: ' '
                display: block
                position: absolute
                bottom: -2px
                left: 0
                right: 0
                height: 2px
                background: inherit
                margin: 0
                z-index: 15

            &:after
              content: '+'
              margin-left: 8px

          &:hover, &.active
            @if (lightness($background-color) < 75%)
              color: white
            @else
              color: rgba(0, 0, 0, 0.85)

          &:hover
            background: darken($background-color, 5%)
            border-color: darken($background-color, 5%)

          &:active
            background: darken($background-color, 15%)
            border-color: darken($background-color, 15%)

          &.open
            color: rgba(0, 0, 0, 0.85)
            background: white
            border-color: map-get($white, darker)
            border-bottom-color: transparent

            &:hover
              color: rgba(0, 0, 0, 0.85)
              border-color: map-get($white, darker)
              border-bottom-color: transparent

          @media screen and (max-width: $breakpoint)
            ul
              max-width: none
              right: -1px

              li, li a:not([role=button])
                font-size: $default-font-size

              a:not([role=button])
                padding:
                  top: 2 * map-get($rootElement, paddingV)
                  bottom: 2 * map-get($rootElement, paddingV)

        ul
          border-top-left-radius: 0
          border-top-right-radius: 0
          // display: none

          @media screen and (min-width: $breakpoint)
            border-top: 1px solid map-get($white, darker)

        ul[role=button]
          display: inline-flex

        ul[role=button], > [role=button], &.navbar-title button[role="button"]
          margin: (-2 * map-get($rootElement, paddingV)) + 2
            bottom: (-2 * map-get($rootElement, paddingV)) + 2 // Repeated to override navbar-title
          vertical-align: text-bottom

        > a:not([role=button]), &.navbar-title > h1
          text-decoration: none
          cursor: pointer
          display: block
          +root-element
          margin-bottom: 0
          border-radius: 0
          margin: (-2 * map-get($rootElement, paddingV) - 1) (-1 * map-get($rootElement, paddingH))
          padding:
            top: (2 * map-get($rootElement, paddingV))
            bottom: (2 * map-get($rootElement, paddingV))
            left: map-get($rootElement, paddingH)
            right: map-get($rootElement, paddingH)

        &.navbar-title > h1
          line-height: normal

  @if ($layout == 'fluid')
    +navbar-fluid($breakpoint)

  @if ($layout == 'fluid-fixed')
    +navbar-fluid_fixed($breakpoint)

  @if ($fixed == true)
    +navbar-fixed

  @if ($collapse == true)
    +navbar-collapse($breakpoint)

  +navbar-color-default($background-color)

  @content

// X.X.X. Notifications
// --------------------

=status_bar
  position: fixed
  top: 0
  left: 0
  right: 0
  z-index: 2000 // Above modal
  display: flex
  pointer-events: none
  transition: transform 0.25s
  transform: translateY(0px)

  &.hide
    transform: translateY(-40px)

  .status_bar-status
    +label-default($yellow)
    color: black
    text-align: center
    margin: 5px auto
    max-width: 300px
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.15)
    +fadeInDown
    z-index: 1000

  @content

// X.X.X Pagination
// ----------------

=pagination-default($background: $white)
  display: flex
  align-items: flex-start
  flex-wrap: wrap
  justify-content: space-between
  align-content: space-between

  > ul
    +button-group-default($size: 1)

  @content

// X.X.X Progress
// --------------

progress
  width: 100%

  &::-webkit-progress-bar
    border-radius: ($space/5)
    min-height: $space
    -webkit-appearance: none
    appearance: none
    -moz-appearance: none

  &::-webkit-progress-value
    border-radius: ($space/5) 0 0 ($space/5)

// X.X.X. Tables
// -------------

=table-default($blank: false, $zebra: false, $hover: false, $border-color: $gray_lighter, $bordered: false)
  border-collapse: collapse
  background: white
  border-spacing: 0
  empty-cells: show
  border: 1px solid $border-color
  width: 100%
  margin-bottom: $space

  pre
    margin: 0

  thead
    background: $white_dark
    color: black
    text-align: left
    vertical-align: bottom
    border-bottom: 1px solid transparent

    th
      font-weight: bold
      text-align: left
      border-color: $border-color
      border-bottom-width: 0px

  th, td
    background-color: transparent
    border-width: 0 0 0 1px
    font-size: inherit
    margin: 0
    overflow: visible
    padding: ($space/6) ($space/4)
    line-height: normal
    border-left: 1px solid $border-color

    &:first-child
      border-left-width: 0

  @if $hover == true
    +table-hover

  @if $blank == true
    +table-blank

  @if $zebra == true
    +table-zebra

  @if $bordered == true
    +table-bordered

  @content

=table-bordered-default
  td
    border-bottom-color: inherit
    border-bottom-width: 1px
    border-bottom-style: solid

  thead
    border-bottom-color: inherit

=table-blank-default
  border-color: transparent
  background: transparent
  table, tr, td, tbody, thead, th, tfoot
    border-color: transparent
    background: transparent
  th, td
    border-color: transparent

    &:first-child
      border-color: transparent
      padding:
        left: 0px

    &:last-child
      border-color: transparent
      padding:
        right: 0px

=table-hover-default
  tbody, thead
    tr:hover
      background-color: $primary-color

      td, th
        color: white

=table-zebra-default
  tbody, thead
    tr:nth-child(even)
      background-color: $white_dark

    tr
      td, th
        // padding: ($space/6) ($space/4)

// X.X.X. Tabs
// -----------

=tabs-default
  +list($style: 'unstyled', $layout: 'horizontal')
  border-bottom: 1px solid $white_darker

  li
    margin: 0
      right: -1px
      bottom: -1px

    &.open
      a
        border-bottom-color: transparent
        background: white

        &:hover, &.active
          box-shadow: none

    a
      +button
      border: 1px solid $secondary-color
      padding:
        left: 6px
        right: 6px
      border-bottom-left-radius: 0
      border-bottom-right-radius: 0

=tab_pane_container-default
  +root-element
  background: white
  border-color: $secondary-color
  border-top: 0
  border-top-left-radius: 0
  border-top-right-radius: 0
  padding: $space
  margin-top: -$space

  @content

// 4.0.0 DIRECT APPLICATIONS
// =========================
// Direct applications of the above mixins...just in case your theme file didn't
// specify them already.

=table($args...)
  +table-default($args...)

=wrapper($args...)
  +wrapper-default($args...)
